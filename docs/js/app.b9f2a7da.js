(function(e){function t(t){for(var o,r,c=t[0],s=t[1],u=t[2],d=0,l=[];d<c.length;d++)r=c[d],i[r]&&l.push(i[r][0]),i[r]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);f&&f(t);while(l.length)l.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],o=!0,r=1;r<n.length;r++){var c=n[r];0!==i[c]&&(o=!1)}o&&(a.splice(t--,1),e=s(s.s=n[0]))}return e}var o={},r={app:0},i={app:0},a=[];function c(e){return s.p+"js/"+({about:"about"}[e]||e)+"."+{about:"1966f273"}[e]+".js"}function s(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n={about:1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=new Promise(function(t,n){for(var o="css/"+({about:"about"}[e]||e)+"."+{about:"3666eb6c"}[e]+".css",i=s.p+o,a=document.getElementsByTagName("link"),c=0;c<a.length;c++){var u=a[c],d=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(d===o||d===i))return t()}var l=document.getElementsByTagName("style");for(c=0;c<l.length;c++){u=l[c],d=u.getAttribute("data-href");if(d===o||d===i)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var o=t&&t.target&&t.target.src||i,a=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");a.request=o,delete r[e],f.parentNode.removeChild(f),n(a)},f.href=i;var m=document.getElementsByTagName("head")[0];m.appendChild(f)}).then(function(){r[e]=0}));var o=i[e];if(0!==o)if(o)t.push(o[2]);else{var a=new Promise(function(t,n){o=i[e]=[t,n]});t.push(o[2]=a);var u,d=document.getElementsByTagName("head")[0],l=document.createElement("script");l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.src=c(e),u=function(t){l.onerror=l.onload=null,clearTimeout(f);var n=i[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src,a=new Error("Loading chunk "+e+" failed.\n("+o+": "+r+")");a.type=o,a.request=r,n[1](a)}i[e]=void 0}};var f=setTimeout(function(){u({type:"timeout",target:l})},12e4);l.onerror=l.onload=u,d.appendChild(l)}return Promise.all(t)},s.m=e,s.c=o,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(n,o,function(t){return e[t]}.bind(null,o));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/vue-open-weather-map/",s.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],d=u.push.bind(u);u.push=t,u=u.slice();for(var l=0;l<u.length;l++)t(u[l]);var f=d;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"21bb":function(e,t,n){"use strict";var o=n("bcc9"),r=n.n(o);r.a},4408:function(e,t,n){"use strict";var o=n("59ab"),r=n.n(o);r.a},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("097d");var o=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container",attrs:{id:"app"}},[n("router-view")],1)},i=[],a={name:"App",mounted:function(){this.$store.commit("SET_CITIES",this.$storage.get("cities")||[])}},c=a,s=(n("5c0b"),n("2877")),u=Object(s["a"])(c,r,i,!1,null,null,null);u.options.__file="App.vue";var d=u.exports,l=n("8c4f"),f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("md-dialog-alert",{attrs:{"md-active":e.notFound,"md-content":e.error.cod+": "+e.error.message,"md-confirm-text":"OK"},on:{"update:mdActive":function(t){e.notFound=t}}}),n("search-form",{on:{search:e.addCity}}),e.userLocation.coord?n("div",[n("h5",[e._v("Weather in "+e._s(e.userLocation.name)+": "+e._s(e._f("celsius")(e.userLocation.main.temp)))]),e.userLocation.coord?n("GmapMap",{staticStyle:{width:"100%",height:"300px"},attrs:{center:{lat:e.userLocation.coord.lat,lng:e.userLocation.coord.lon},zoom:10,"map-type-id":"terrain"}},[e.userLocation.coord?n("GmapMarker",{attrs:{position:{lat:e.userLocation.coord.lat,lng:e.userLocation.coord.lon},clickable:!0,draggable:!0}}):e._e()],1):e._e()],1):e._e(),n("div",{staticClass:"md-layout md-gutter"},e._l(e.cities,function(t){return n("div",{key:t.id,staticClass:"md-layout-item md-size-33 md-small-size-50 md-xsmall-size-100"},[n("city-item",{attrs:{city:t},on:{remove:e.removeCity}})],1)}))],1)},m=[],p=n("be94"),v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("md-dialog-confirm",{attrs:{"md-active":e.active,"md-title":"Do you really want to delete this city?","md-content":"","md-confirm-text":"Yes","md-cancel-text":"No"},on:{"update:mdActive":function(t){e.active=t},"md-cancel":e.onCancel,"md-confirm":e.onConfirm}}),n("md-card",{attrs:{"md-with-hover":""}},[n("md-card-header",[n("div",{staticClass:"md-title"},[e._v(e._s(e.city.name)+", "+e._s(e.city.sys.country))])]),n("md-card-actions",[n("md-button",{staticClass:"md-fab",on:{click:function(t){e.active=!0}}},[n("md-icon",[e._v("delete")])],1),n("router-link",{attrs:{tag:"md-button",to:{name:"city",params:{id:e.city.id}}}},[e._v("View details")])],1)],1)],1)},h=[],g={name:"CityItem",props:{city:Object},data:function(){return{active:!1}},methods:{onConfirm:function(){this.$emit("remove",this.city.id)},onCancel:function(){}}},b=g,y=(n("4408"),Object(s["a"])(b,v,h,!1,null,"6a3ad838",null));y.options.__file="CityItem.vue";var _=y.exports,C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("md-field",[n("label",[e._v("Enter city."),n("br")]),n("md-input",{model:{value:e.city,callback:function(t){e.city=t},expression:"city"}}),n("md-button",{staticClass:"md-raised md-primary",on:{click:function(t){e.submit(e.city)}}},[e._v("Add")])],1),n("div",[e._v("Examples: Odessa | Odessa,UA")])],1)},E=[],T={name:"SearchForm",data:function(){return{city:""}},methods:{submit:function(e){this.city="",this.$emit("search",e)}}},w=T,O=(n("9e71"),Object(s["a"])(w,C,E,!1,null,"3e5a47ab",null));O.options.__file="SearchForm.vue";var A=O.exports,x=n("2f62"),k={name:"home",components:{CityItem:_,SearchForm:A},data:function(){return{geoDialog:!1,geoErr:""}},computed:Object(p["a"])({},Object(x["b"])(["cities","userLocation","error"]),{notFound:{get:function(){return this.$store.state.notFound},set:function(){this.$store.commit("NOT_FOUND",{active:!1,error:{}})}}}),methods:{addCity:function(e){this.$store.dispatch("GET_WEATHER",{params:{q:e}})},removeCity:function(e){this.$store.commit("DELETE_CITY",e)},askForLocation:function(){var e=this;"geolocation"in navigator?navigator.geolocation.getCurrentPosition(function(t){var n=t.coords;e.$store.dispatch("GET_WEATHER",{params:{lat:n.latitude,lon:n.longitude},action:"SET_USER_LOCATION"})}):console.log("Geo location is not allowed")}},mounted:function(){this.askForLocation()}},L=k,S=(n("21bb"),Object(s["a"])(L,f,m,!1,null,null,null));S.options.__file="Home.vue";var j=S.exports;o["default"].use(l["a"]);var I=new l["a"]({mode:"history",base:"/vue-open-weather-map/",routes:[{path:"/",name:"home",component:j},{path:"/city/:id",name:"city",component:function(){return n.e("about").then(n.bind(null,"0d5f"))}}]}),F=(n("96cf"),n("1da1")),M=n("2909");o["default"].use(x["a"]);var D=new x["a"].Store({state:{cities:[],currentCity:{},userLocation:{},notFound:!1,error:{}},mutations:{NOT_FOUND:function(e,t){e.notFound=t.active,e.error=t.error},SET_CITIES:function(e,t){e.cities=t},ADD_CITY:function(e,t){e.cities=Object(M["a"])(e.cities).concat([t]),this._vm.$storage.set("cities",e.cities)},UPDATE_CITY:function(e,t){e.cities=e.cities.map(function(e){return e.id===t.id?t:e}),this._vm.$storage.set("cities",e.cities)},DELETE_CITY:function(e,t){e.cities=e.cities.filter(function(e){return e.id!==t}),this._vm.$storage.set("cities",e.cities)},SET_CURRENT_CITY:function(e,t){e.currentCity=t},SET_USER_LOCATION:function(e,t){e.userLocation=t}},actions:{GET_WEATHER:function(){var e=Object(F["a"])(regeneratorRuntime.mark(function e(t,n){var o,r,i,a,c,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return o=t.commit,r=t.state,i=n.params,a=n.action,e.prev=2,e.next=5,this._vm.axios.get("weather",{params:i});case 5:c=e.sent,s=c.data,a?o(a,s):r.cities.some(function(e){return e.id===s.id})?o("UPDATE_CITY",s):o("ADD_CITY",s),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](2),o("NOT_FOUND",{active:!0,error:e.t0.response.data});case 13:case"end":return e.stop()}},e,this,[[2,10]])}));return function(t,n){return e.apply(this,arguments)}}()}}),N=n("9483");Object(N["a"])("".concat("/vue-open-weather-map/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});n("51de"),n("0759");var $=n("9c30");o["default"].use($["MdButton"]),o["default"].use($["MdContent"]),o["default"].use($["MdTabs"]),o["default"].use($["MdCard"]),o["default"].use($["MdProgress"]),o["default"].use($["MdField"]),o["default"].use($["MdIcon"]),o["default"].use($["MdDialog"]),o["default"].use($["MdDialogConfirm"]),o["default"].use($["MdDialogAlert"]),o["default"].use($["MdTable"]);var P=n("bc3a"),R=n.n(P),U=n("a7fe"),Y=n.n(U);R.a.defaults.baseURL="https://api.openweathermap.org/data/2.5/",R.a.defaults.params={APPID:"26e150de0e59e398931e697b667d7c4b"},o["default"].use(Y.a,R.a);var z=n("f83f"),B=n.n(z);o["default"].use(B.a,{prefix:"openweather_"});var G=n("755e");o["default"].use(G,{load:{key:"AIzaSyD1WGpVzmML2zsFTMQsgd75CLx198mKBCA",libraries:"places"}});var W=n("11c8"),q=function(e,t){var n=" °C";return t&&(n=t),(parseInt(e,10)-273.15).toFixed(2)+n};o["default"].filter("celsius",q),o["default"].use(W["a"]),o["default"].config.productionTip=!1,new o["default"]({router:I,store:D,render:function(e){return e(d)}}).$mount("#app")},"59ab":function(e,t,n){},"5c0b":function(e,t,n){"use strict";var o=n("5e27"),r=n.n(o);r.a},"5e27":function(e,t,n){},"9e71":function(e,t,n){"use strict";var o=n("d425"),r=n.n(o);r.a},bcc9:function(e,t,n){},d425:function(e,t,n){}});
//# sourceMappingURL=app.b9f2a7da.js.map